# 페이지 폴트

페이지 폴트(Page Fault)는 Soft Fault + Hard Fault 라고도 한다고 합니다.
페이지 폴트란 프로세스가 자신의 주소 공간에는 존재하지만 시스템의 물리적 메모리(RAM)에는 현재 존재하지 않는  
데이터나 코드에 접근을 시도하였을 경우에 발생하는 현상을 말합니다.(즉 유효하지 않은 페이지 참조)  
페이지 폴트가 발생하면 커널 트랩 핸들러는 메모리 관리자 폴트 핸들러(MmAccessFault)가 처리할 수 있게 전달해 줍니다.  
그리고 페이지 폴트가 발생한 스레드 컨텍스트에서 수행되며 실제 데이터를 메모리로 가져와서  
페이지 폴트가 전혀 발생하지 않은것처럼 프로세스를 계속 동작하게 해줍니다.  
여기서 만약 허용되지 않은 가상 메모리 영역에 접근하는 경우 운영체제는 접근을 요청한 프로세스에게 Segmentation Fault를 발생시킵니다.  
반대로 일반적인 경우는 해당 가상 메모리 주소가 물리적 메모리(RAM)에 존재 하지 않은 경우에 페이지 폴트를 발생시킵니다.   

## 프로세스가 실행 될 때 생성되는 가상 주소 공간  
32bit 프로세스는 4GB 크기의 가상 주소 공간(0x00000000 ~ 0xFFFFFFFF)을 표현할 수 있습니다.   
64bit 프로세스는 16EB 크기의 가상 주소 공간(0x000000000000000 ~ 0xFFFFFFFFFFFFFFFF)을 표현할 수 있습니다.  

## Soft Fault  
Soft Fault는 요청하는 페이지가 물리적 메모리(RAM)상에 있기 때문에 해당 메모리에 접근하면 됨으로써  
DISK I/O를 발생하지 않아 성능 저하가 거의 없습니다.  

## Hard Fault
Hard Fault는 요청하는 페이지가 물리적 메모리(RAM)상에 없기 때문에 디스크에 세그먼트를 요청하고  
메모리와 디스크에 따르는 DISK I/O를 발생시키기 때문에 성능 저하를 발생합니다.